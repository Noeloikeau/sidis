---

title: data


keywords: fastai
sidebar: home_sidebar



nb_path: "01_conversion.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 01_conversion.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>C:\Anaconda3\lib\site-packages\numpy\_distributor_init.py:32: UserWarning: loaded more than 1 DLL from .libs:
C:\Anaconda3\lib\site-packages\numpy\.libs\libopenblas.NOIJJG62EMASZI6NYURL6JBKM4EVBGM7.gfortran-win_amd64.dll
C:\Anaconda3\lib\site-packages\numpy\.libs\libopenblas.PYQHXLVVQ7VESDPUVUADXEVJOBGHJPAY.gfortran-win_amd64.dll
  stacklevel=1)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Type-casting">Type casting<a class="anchor-link" href="#Type-casting"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We begin with some motivating definitions and examples before building up to the the final typecasting function <a href="/sidis/conversion.html#cast"><code>cast</code></a>. Thee data types considered here are given as a typehint <a href="/sidis/conversion.html#data"><code>data</code></a> and dictionary <a href="/sidis/conversion.html#types"><code>types</code></a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We start with a simple try except conversion which guarantees the object is at least <em>treated</em> as the desired type, even if it can't be directly converted (yet).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="__cast" class="doc_header"><code>__cast</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L19" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>__cast</code>(<strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>], <strong><code>obj</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>])</p>
</blockquote>
<p>Typecasts <code>obj</code> to datatype <code>to</code>.
First inner typecasting function.
Fallback case of more complex casting behavior.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we will create a global dict <a href="/sidis/conversion.html#rules"><code>rules</code></a> keyed by type that is valued by a partially evaluated <a href="/sidis/conversion.html#__cast"><code>__cast</code></a> on that type. This allows us to modify the future behavior of the cast if desired. To understand partial evaluation, consider:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(1, 0)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rules</span><span class="p">[</span><span class="kc">None</span><span class="p">](</span><span class="s1">&#39;no arg type, returns whatever we give it&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;no arg type, returns whatever we give it&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">rules</span><span class="p">[</span><span class="nb">int</span><span class="p">](</span><span class="mf">0.5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rules</span><span class="p">[</span><span class="nb">int</span><span class="p">]([</span><span class="mf">0.5</span><span class="p">]))</span>
<span class="n">rules</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">](</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0
[0.5]
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array(0)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The list input, array, and None would have failed without this treatment. We now define another intermediary <code>_cast</code> to do this so we can treat it as a callable and switch the order of the arguments to the more pythonic <code>obj</code>, <code>to</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cast_" class="doc_header"><code>cast_</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L36" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cast_</code>(<strong><code>obj</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>])</p>
</blockquote>
<p>Second inner typecast function using global rulebook <a href="/sidis/conversion.html#rules"><code>rules</code></a>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With this formulation we can update the rules and get new casting behavior.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rules</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;changed&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cast_</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>changed
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And change it back.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rules</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span>
<span class="n">cast_</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array(0)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Wrapping">Wrapping<a class="anchor-link" href="#Wrapping"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The type casting above is simple. Often times it is convenient to "wrap" the desired type over the input type. We will now construct a <code>wrap</code> function which does this, depending on if the object is an iterable or not.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="typestr" class="doc_header"><code>typestr</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L49" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>typestr</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>])</p>
</blockquote>
<p>Parses the string of the input type for readability.</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;list&#39;, &#39;tuple&#39;, &#39;str&#39;, &#39;dict&#39;, &#39;set&#39;, &#39;numpy.ndarray&#39;]
[&#39;int&#39;, &#39;float&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following conversions between the two types demonstrate these meanings:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterables</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s1">&#39;01&#39;</span><span class="p">,{</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">},{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="s1">&#39; to &#39;</span><span class="p">,</span><span class="n">typestr</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="s1">&#39; : &#39;</span><span class="p">,</span><span class="n">cast_</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[0, 1]  to  list  :  [0, 1]
(0, 1)  to  list  :  [0, 1]
01  to  list  :  [&#39;0&#39;, &#39;1&#39;]
{0: 1}  to  list  :  [0]
{0, 1}  to  list  :  [0, 1]
[0 1]  to  list  :  [0, 1]
[0, 1]  to  tuple  :  (0, 1)
(0, 1)  to  tuple  :  (0, 1)
01  to  tuple  :  (&#39;0&#39;, &#39;1&#39;)
{0: 1}  to  tuple  :  (0,)
{0, 1}  to  tuple  :  (0, 1)
[0 1]  to  tuple  :  (0, 1)
[0, 1]  to  str  :  [0, 1]
(0, 1)  to  str  :  (0, 1)
01  to  str  :  01
{0: 1}  to  str  :  {0: 1}
{0, 1}  to  str  :  {0, 1}
[0 1]  to  str  :  [0 1]
[0, 1]  to  dict  :  [0, 1]
(0, 1)  to  dict  :  (0, 1)
01  to  dict  :  01
{0: 1}  to  dict  :  {0: 1}
{0, 1}  to  dict  :  {0, 1}
[0 1]  to  dict  :  [0 1]
[0, 1]  to  set  :  {0, 1}
(0, 1)  to  set  :  {0, 1}
01  to  set  :  {&#39;1&#39;, &#39;0&#39;}
{0: 1}  to  set  :  {0}
{0, 1}  to  set  :  {0, 1}
[0 1]  to  set  :  {0, 1}
[0, 1]  to  numpy.ndarray  :  [0 1]
(0, 1)  to  numpy.ndarray  :  [0 1]
01  to  numpy.ndarray  :  01
{0: 1}  to  numpy.ndarray  :  {0: 1}
{0, 1}  to  numpy.ndarray  :  {0, 1}
[0 1]  to  numpy.ndarray  :  [0 1]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="s1">&#39; to &#39;</span><span class="p">,</span><span class="n">typestr</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="s1">&#39; : &#39;</span><span class="p">,</span><span class="n">cast_</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0  to  int  :  0
0.1  to  int  :  0
0  to  float  :  0.0
0.1  to  float  :  0.1
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],(</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">),</span><span class="s1">&#39;01&#39;</span><span class="p">,{</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.1</span><span class="p">},{</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">},</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">])]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="s1">&#39; to &#39;</span><span class="p">,</span><span class="n">typestr</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="s1">&#39; : &#39;</span><span class="p">,</span><span class="n">cast_</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[0, 0.1]  to  int  :  [0, 0.1]
(0, 0.1)  to  int  :  (0, 0.1)
01  to  int  :  1
{0: 0.1}  to  int  :  {0: 0.1}
{0, 0.1}  to  int  :  {0, 0.1}
[0.  0.1]  to  int  :  [0.  0.1]
[0, 0.1]  to  float  :  [0, 0.1]
(0, 0.1)  to  float  :  (0, 0.1)
01  to  float  :  1.0
{0: 0.1}  to  float  :  {0: 0.1}
{0, 0.1}  to  float  :  {0, 0.1}
[0.  0.1]  to  float  :  [0.  0.1]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterables</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="s1">&#39; to &#39;</span><span class="p">,</span><span class="n">typestr</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="s1">&#39; : &#39;</span><span class="p">,</span><span class="n">cast_</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">i</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0  to  list  :  0
0.1  to  list  :  0.1
0  to  tuple  :  0
0.1  to  tuple  :  0.1
0  to  str  :  0
0.1  to  str  :  0.1
0  to  dict  :  0
0.1  to  dict  :  0.1
0  to  set  :  0
0.1  to  set  :  0.1
0  to  numpy.ndarray  :  0
0.1  to  numpy.ndarray  :  0.1
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As can be seen, the cross-conversions are nonexistent. We change this with the following rules:</p>
<blockquote><p>iters-&gt;numbers :convert every element in the iter&gt; numbers-&gt;iters :wrap the iterable type around the number
For the special case of dictionaries, which are multi-valued, we convert the <em>values</em> to the number type, and not the keys (the keys are obtainable from the iterable&lt;-&gt;iterable mappings above). Similarly, for numbers-&gt;dict, we key by the number itself. This is a convention but it is nonambiguous when iterating over the number, as it will return the number. In summary:
dict -&gt; number :convert every value (not key) to number&gt; number -&gt; dict :key by number</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cast" class="doc_header"><code>cast</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L60" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cast</code>(<strong><code>obj</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Universal typecasting function.
Typecasts the <code>obj</code> to the desired datatype <code>to</code>,
with support for wrapping of various types.</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>From 1 to int: 1
From 1 to float: 1.0
From 1 to list: [1]
From 1 to tuple: (1,)
From 1 to str: 1
From 1 to dict: {1: 1}
From 1 to set: {1}
From 1 to numpy.ndarray: 1
From 1.5 to int: 1
From 1.5 to float: 1.5
From 1.5 to list: [1.5]
From 1.5 to tuple: (1.5,)
From 1.5 to str: 1.5
From 1.5 to dict: {1.5: 1.5}
From 1.5 to set: {1.5}
From 1.5 to numpy.ndarray: 1.5
From 2.3 to int: 2
From 2.3 to float: 2.3
From 2.3 to list: [2.3]
From 2.3 to tuple: (2.3,)
From 2.3 to str: 2.3
From 2.3 to dict: {2.3: 2.3}
From 2.3 to set: {2.3}
From 2.3 to numpy.ndarray: 2.3
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],(</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">),</span><span class="s1">&#39;01&#39;</span><span class="p">,{</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.1</span><span class="p">},{</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">},</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">])]:</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">types</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;From </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">typestr</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">cast</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">t</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>From [0, 0.1] to int: [0, 0]
From [0, 0.1] to float: [0.0, 0.1]
From [0, 0.1] to list: [0, 0.1]
From [0, 0.1] to tuple: (0, 0.1)
From [0, 0.1] to str: [0, 0.1]
From [0, 0.1] to dict: [0, 0.1]
From [0, 0.1] to set: {0, 0.1}
From [0, 0.1] to numpy.ndarray: [0.  0.1]
From (0, 0.1) to int: (0, 0)
From (0, 0.1) to float: (0.0, 0.1)
From (0, 0.1) to list: [0, 0.1]
From (0, 0.1) to tuple: (0, 0.1)
From (0, 0.1) to str: (0, 0.1)
From (0, 0.1) to dict: (0, 0.1)
From (0, 0.1) to set: {0, 0.1}
From (0, 0.1) to numpy.ndarray: [0.  0.1]
From 01 to int: [0, 1]
From 01 to float: [0.0, 1.0]
From 01 to list: [&#39;0&#39;, &#39;1&#39;]
From 01 to tuple: (&#39;0&#39;, &#39;1&#39;)
From 01 to str: 01
From 01 to dict: 01
From 01 to set: {&#39;1&#39;, &#39;0&#39;}
From 01 to numpy.ndarray: 01
From {0: 0.1} to int: {0: 0}
From {0: 0.1} to float: {0: 0.1}
From {0: 0.1} to list: [0]
From {0: 0.1} to tuple: (0,)
From {0: 0.1} to str: {0: 0.1}
From {0: 0.1} to dict: {0: 0.1}
From {0: 0.1} to set: {0}
From {0: 0.1} to numpy.ndarray: {0: 0.1}
From {0, 0.1} to int: {0}
From {0, 0.1} to float: {0.0, 0.1}
From {0, 0.1} to list: [0, 0.1]
From {0, 0.1} to tuple: (0, 0.1)
From {0, 0.1} to str: {0, 0.1}
From {0, 0.1} to dict: {0, 0.1}
From {0, 0.1} to set: {0, 0.1}
From {0, 0.1} to numpy.ndarray: {0, 0.1}
From [0.  0.1] to int: [0 0]
From [0.  0.1] to float: [0.  0.1]
From [0.  0.1] to list: [0.0, 0.1]
From [0.  0.1] to tuple: (0.0, 0.1)
From [0.  0.1] to str: [0.  0.1]
From [0.  0.1] to dict: [0.  0.1]
From [0.  0.1] to set: {0.0, 0.1}
From [0.  0.1] to numpy.ndarray: [0.  0.1]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This extends the desired behavior of typecasting for iterables and noniterables.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Conversions">Conversions<a class="anchor-link" href="#Conversions"> </a></h1><p>Here we present conversions between common datatypes (like numbers to binary arrays).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pad" class="doc_header"><code>pad</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L91" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pad</code>(<strong><code>data</code></strong>:<code>Union</code>[<code>ndarray</code>, <code>list</code>], <strong><code>bits</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>, <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Pads an array with zeros, up to a length of <code>bits</code>.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([0., 0., 0., 1., 0.])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fillar" class="doc_header"><code>fillar</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L106" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fillar</code>(<strong><code>x</code></strong>:<code>list</code>, <strong><code>fillwith</code></strong>=<em><code>nan</code></em>, <strong><code>mask</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Turn uneven nested lists <code>x</code> into arrays <code>y</code> substituting
missing entries using <code>fillwith</code> and optionally masking.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[1, 0, 0],
       [1, 1, 1]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fillar</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span><span class="n">fillwith</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>masked_array(
  data=[[1, --, --],
        [1, 1, 1]],
  mask=[[False,  True,  True],
        [False, False, False]],
  fill_value=0)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbits" class="doc_header"><code>nbits</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L121" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbits</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>ndarray</code>])</p>
</blockquote>
<p>Return the number of bits required to represent the input <code>x</code>.</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>i=0, nbits(0)=1
i=1, nbits(1)=1
i=2, nbits(2)=2
i=3, nbits(3)=2
i=4, nbits(4)=3
i=5, nbits(5)=3
i=6, nbits(6)=3
i=7, nbits(7)=3
i=8, nbits(8)=4
i=9, nbits(9)=4
i=10, nbits(10)=4
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="rint" class="doc_header"><code>rint</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L133" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>rint</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>ndarray</code>])</p>
</blockquote>
<p>Typecast rounding to np arrays.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([0, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RNG" class="doc_header"><code>class</code> <code>RNG</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L145" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RNG</code>(<strong><code>seed</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>0</code></em>)</p>
</blockquote>
<p>Globally stable random number generator. Initialized with fixed <code>seed</code>.
Contains <code>normal</code> and <code>random</code> methods, each with an <code>absval</code> and <code>asint</code> argument,
which convert to positive values and round to integers respectively.</p>
<p>Example use:
    rng=RNG(seed=0)
    rng.normal(x=0,dx=1,shape=(2,2))
    rng.random(a=0,b=5,shape=(2,2),asint=True,absval=True)</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[[0.63696169 0.26978671]]
100.64042265044328
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="num2ar" class="doc_header"><code>num2ar</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>num2ar</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>bits</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>, <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Converts decimal number <code>x</code> to array <code>a</code> zero-padded with <code>bits</code>.</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>i=0, num2ar(0)=[0]
i=1, num2ar(1)=[1]
i=2, num2ar(2)=[1 0]
i=3, num2ar(3)=[1 1]
i=4, num2ar(4)=[1 0 0]
i=5, num2ar(5)=[1 0 1]
i=6, num2ar(6)=[1 1 0]
i=7, num2ar(7)=[1 1 1]
i=8, num2ar(8)=[1 0 0 0]
i=9, num2ar(9)=[1 0 0 1]
i=10, num2ar(10)=[1 0 1 0]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">num2ar</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">bits</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">to</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([0., 1., 0., 1., 0.])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ar2num" class="doc_header"><code>ar2num</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L209" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ar2num</code>(<strong><code>a</code></strong>:<code>Union</code>[<code>list</code>, <code>ndarray</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Converts array <code>a</code> to decimal number <code>x</code>.</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>a=[0], ar2num(a)=0
a=[1], ar2num(a)=1
a=[1 0], ar2num(a)=2
a=[1 1], ar2num(a)=3
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ar2hex" class="doc_header"><code>ar2hex</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L222" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ar2hex</code>(<strong><code>a</code></strong>:<code>Union</code>[<code>list</code>, <code>ndarray</code>], <strong><code>bits</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>, <strong><code>prefix</code></strong>:<code>bool</code>=<em><code>True</code></em>)</p>
</blockquote>
<p>Converts binary array to hex string
in:
    a (numpy array) : binary array to convert
out:
    h (str) : hex conversion of a</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;0x0a&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ar2hex</span><span class="p">(</span><span class="n">num2ar</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">prefix</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;0a&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="hex2ar" class="doc_header"><code>hex2ar</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L240" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>hex2ar</code>(<strong><code>h</code></strong>:<code>str</code>, <strong><code>bits</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>, <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Converts a hex string <code>h</code> into an array <code>a</code> padded with <code>bits</code> and elements of <code>astype</code>.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([1, 0, 1, 0])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hex2ar</span><span class="p">(</span><span class="s1">&#39;0xa&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([1, 0, 1, 0])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="str2ar" class="doc_header"><code>str2ar</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L251" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>str2ar</code>(<strong><code>s</code></strong>:<code>str</code>, <strong><code>to</code></strong>:<code>Union</code>[<code>list</code>, <code>ndarray</code>]=<em><code>ndarray</code></em>)</p>
</blockquote>
<p>Converts an input string <code>s</code> into an array or list <code>a</code> as per <code>astype</code>.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([1, 1, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ar2str" class="doc_header"><code>ar2str</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L260" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ar2str</code>(<strong><code>a</code></strong>:<code>Union</code>[<code>list</code>, <code>ndarray</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Converts an input array <code>a</code> into a string <code>s</code>.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;111&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="COPY" class="doc_header"><code>COPY</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L268" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>COPY</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Simply returns <code>x</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="OR" class="doc_header"><code>OR</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L290" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>OR</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>y</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Return logical OR of <code>x</code> and <code>y</code>. See DeMorgan's Laws.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Exclusive_OR" class="doc_header"><code>Exclusive_OR</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L298" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Exclusive_OR</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>y</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Return logical exclusive OR of <code>x</code> and <code>y</code>. See DeMorgan's Laws.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NOT" class="doc_header"><code>NOT</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L275" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NOT</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Return conjugate of <code>x</code>.</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.75</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="AND" class="doc_header"><code>AND</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L282" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>AND</code>(<strong><code>x</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>y</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Return logical AND of <code>x</code> and <code>y</code>.</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.5</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">[</span><span class="n">AND</span><span class="p">,</span><span class="n">OR</span><span class="p">,</span><span class="n">XOR</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">z</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}{</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">z</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>AND(0, 0)=0
OR(0, 0)=0
XOR(0, 0)=0
AND(0, 1)=0
OR(0, 1)=1
XOR(0, 1)=1
AND(1, 0)=0
OR(1, 0)=1
XOR(1, 0)=1
AND(1, 1)=1
OR(1, 1)=1
XOR(1, 1)=0
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="XOR" class="doc_header"><code>XOR</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L306" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>XOR</code>(<strong>*<code>args</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>ndarray</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>]=<em><code>int</code></em>)</p>
</blockquote>
<p>Arbitrary input XOR using recursiveness.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">XOR</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="n">to</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.40709488639999997</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ar2gr" class="doc_header"><code>ar2gr</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L317" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ar2gr</code>(<strong><code>binary</code></strong>:<code>Union</code>[<code>list</code>, <code>ndarray</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>list</code>, <code>ndarray</code>]=<em><code>ndarray</code></em>)</p>
</blockquote>
<p>Converts an input binary array to graycode.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([1, 1, 1, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="gr2ar" class="doc_header"><code>gr2ar</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L330" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>gr2ar</code>(<strong><code>gray</code></strong>:<code>Union</code>[<code>list</code>, <code>ndarray</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>list</code>, <code>ndarray</code>]=<em><code>ndarray</code></em>)</p>
</blockquote>
<p>Converts a gray-code array into binary.</p>

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([1, 0, 1, 0])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="num2gr" class="doc_header"><code>num2gr</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L346" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>num2gr</code>(<strong><code>x</code></strong>:<code>int</code>, <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>tuple</code>, <code>str</code>, <code>dict</code>, <code>set</code>, <code>ndarray</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Converts decimal number <code>x</code> to equivalent gray-code number.</p>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>i=0, num2gr(i)=0
i=1, num2gr(i)=1
i=2, num2gr(i)=3
i=3, num2gr(i)=2
i=4, num2gr(i)=6
i=5, num2gr(i)=7
i=6, num2gr(i)=5
i=7, num2gr(i)=4
i=8, num2gr(i)=12
i=9, num2gr(i)=13
i=10, num2gr(i)=15
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert" class="doc_header"><code>convert</code><a href="https://github.com/Noeloikeau/sidis/tree/master/sidis/conversion.py#L353" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert</code>(<strong><code>obj</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>hex</code>, <code>str</code>, <code>ndarray</code>], <strong><code>to</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>hex</code>, <code>str</code>, <code>ndarray</code>]=<em><code>ndarray</code></em>, <strong><code>bits</code></strong>:<code>Optional</code>[<code>int</code>]=<em><code>None</code></em>, <strong><code>astype</code></strong>:<code>Union</code>[<code>int</code>, <code>float</code>, <code>list</code>, <code>ndarray</code>]=<em><code>int</code></em>, <strong><code>gray</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Converts an input <code>obj</code> into an output of type <code>to</code>, padding with <code>bits</code>.
Internally converts <code>obj</code> to np.ndarray with elements of dtype <code>astype</code>,
before converting to the desired dtype <code>to</code>. If <code>gray</code>, first converts this
binary array to gray-code. If input or output are <code>hex</code>, requires prefix of <code>0x</code>.</p>
<p>Possible conversions:
    int -&gt; float
    int -&gt; str
    int -&gt; list
    int -&gt; array
    int -&gt; hex</p>

<pre><code>str -&gt; int
str -&gt; float
str -&gt; list
str -&gt; array
str -&gt; hex

list -&gt; arr
list -&gt; int
list -&gt; float
list -&gt; str
list -&gt; hex

arr -&gt; list
arr -&gt; int
arr -&gt; float
arr -&gt; str
arr -&gt; hex

hex -&gt; int
hex -&gt; float
hex -&gt; arr
hex -&gt; list
hex -&gt; str</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mf">10.0</span><span class="p">,</span><span class="s1">&#39;10&#39;</span><span class="p">,</span><span class="s1">&#39;0xa&#39;</span><span class="p">]:</span>
    <span class="n">t_in</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">list</span><span class="p">,</span><span class="nb">str</span><span class="p">,</span><span class="nb">hex</span><span class="p">]:</span><span class="c1">#,set,dict]:</span>
        <span class="n">t_out</span><span class="o">=</span><span class="s1">&#39;hex&#39;</span> <span class="k">if</span> <span class="n">j</span><span class="o">==</span><span class="nb">hex</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;From </span><span class="si">{</span><span class="n">t_in</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">t_out</span><span class="si">}</span><span class="s1">: convert(</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">t_out</span><span class="si">}</span><span class="s1">)=</span><span class="si">{</span><span class="n">convert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>From int to int: convert(10,int)=10
From int to float: convert(10,float)=10.0
From int to list: convert(10,list)=[1, 0, 1, 0]
From int to str: convert(10,str)=1010
From int to hex: convert(10,hex)=0xa
From float to int: convert(10.0,int)=10
From float to float: convert(10.0,float)=10.0
From float to list: convert(10.0,list)=[1, 0, 1, 0]
From float to str: convert(10.0,str)=1010
From float to hex: convert(10.0,hex)=0xa
From str to int: convert(10,int)=2
From str to float: convert(10,float)=2.0
From str to list: convert(10,list)=[1, 0]
From str to str: convert(10,str)=10
From str to hex: convert(10,hex)=0x2
From str to int: convert(0xa,int)=10
From str to float: convert(0xa,float)=10.0
From str to list: convert(0xa,list)=[1, 0, 1, 0]
From str to str: convert(0xa,str)=1010
From str to hex: convert(0xa,hex)=0xa
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mf">10.0</span><span class="p">,</span><span class="s1">&#39;10&#39;</span><span class="p">,</span><span class="s1">&#39;0xa&#39;</span><span class="p">]:</span><span class="c1">#,{0,10},{0:10,&#39;a&#39;:11}]:</span>
    <span class="n">t_in</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">list</span><span class="p">,</span><span class="nb">str</span><span class="p">,</span><span class="nb">hex</span><span class="p">]:</span><span class="c1">#,set,dict]:</span>
        <span class="n">t_out</span><span class="o">=</span><span class="s1">&#39;hex&#39;</span> <span class="k">if</span> <span class="n">j</span><span class="o">==</span><span class="nb">hex</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">j</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Gray Code: From </span><span class="si">{</span><span class="n">t_in</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">t_out</span><span class="si">}</span><span class="s1">: convert(</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">t_out</span><span class="si">}</span><span class="s1">)=</span><span class="si">{</span><span class="n">convert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">gray</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Gray Code: From int to int: convert(10,int)=15
Gray Code: From int to float: convert(10,float)=15.0
Gray Code: From int to list: convert(10,list)=[1, 1, 1, 1]
Gray Code: From int to str: convert(10,str)=1111
Gray Code: From int to hex: convert(10,hex)=0xf
Gray Code: From float to int: convert(10.0,int)=15
Gray Code: From float to float: convert(10.0,float)=15.0
Gray Code: From float to list: convert(10.0,list)=[1, 1, 1, 1]
Gray Code: From float to str: convert(10.0,str)=1111
Gray Code: From float to hex: convert(10.0,hex)=0xf
Gray Code: From str to int: convert(10,int)=3
Gray Code: From str to float: convert(10,float)=3.0
Gray Code: From str to list: convert(10,list)=[1, 1]
Gray Code: From str to str: convert(10,str)=11
Gray Code: From str to hex: convert(10,hex)=0x3
Gray Code: From str to int: convert(0xa,int)=15
Gray Code: From str to float: convert(0xa,float)=15.0
Gray Code: From str to list: convert(0xa,list)=[1, 1, 1, 1]
Gray Code: From str to str: convert(0xa,str)=1111
Gray Code: From str to hex: convert(0xa,hex)=0xf
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

